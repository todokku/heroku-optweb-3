<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

<h:head>
	<title>Cadastro Referência</title>
	<f:metadata>
		<f:viewParam name="id" value="#{clienteBean.id_cliente}"/>
	</f:metadata>	
</h:head> 

	<ui:composition template="/template/interna.xhtml">
		
		<ui:define name="titulo">Cadastro Referência</ui:define>
			
			<ui:define name="corpo">
			
				<h:form id="formCadastro">
				
						 <p:messages id="messages" closable="true" autoUpdate="true"/>      
				
				<div class="ui-fluid">
				
						<p:panelGrid columns="2" styleClass="ui-panelgrid-blank">
						
						<p:outputLabel value="Código:" for="idcod"/>
						<p:inputText value="#{clienteBean.iniciar().codigo}" id="idcod" style="width:auto"/>	
						
						<p:outputLabel value="Descrição:"/>
						<p:inputText value="#{clienteBean.iniciar().descricao}"/>
						
						<p:outputLabel value="Empresa:" for = "idemp"/>
						<p:selectOneMenu style="width:200px" value="#{clienteBean.iniciar().cod_empresa.cod_empresa}" id="idemp" >
							<f:selectItem itemLabel="Selecione"  noSelectionOption="true"/>
							<f:selectItems value="#{empresaBean.listar(usuarioBean.usuarioLogin)}" var="empresa" itemLabel="#{empresa.descricao}" itemValue="#{empresa.cod_empresa}"/>
						</p:selectOneMenu>
																	   			           		   			           		   
				        <p:commandButton action = "#{clienteBean.salvar()}" value ="Salvar">			           		   			           		   	
							<p:confirm header="Confirmation" message="Deseja realmente salvar?" icon="ui-icon-disk"/>																	
						</p:commandButton>	
									
						<p:commandButton icon="ui-icon-arrowrefresh-1-w" action="/restrito/cliente/cliente.xhtml?faces-redirect=true"  style="width:30px;height:30px"/>			           		   				
																	
						<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
							<p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
							<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
						</p:confirmDialog>
									  
						<p:ajaxStatus onstart="PF('dlg').show()" onsuccess="PF('dlg').hide()"/>
							<p:dialog closable="false" draggable="false" header="Processando..." hideEffect="fade" modal="true" resizable="false" responsive="true" widgetVar="dlg">
								<p:graphicImage value = "/imagens/loadingBar-1.gif"/>										
							</p:dialog>						
					
					</p:panelGrid>				
				
				</div>
				
				</h:form>
				
			</ui:define>
	
	</ui:composition>
 
</html>
